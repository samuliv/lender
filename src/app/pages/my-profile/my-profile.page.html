<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()" color="dark"><ion-icon name="arrow-back"></ion-icon>Back</ion-button>
    </ion-buttons> 
    <ion-title>MyProfile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>

  <img id="avatar" class="profile-picture" src="https://i0.wp.com/www.winhelponline.com/blog/wp-content/uploads/2017/12/user.png">

  <div *ngIf="!editingProfile">
    <div class="user-nickname" (click)="editProfile()">{{ userName }}</div>
    <div class="user-email" (click)="editProfile()">{{ userEmail }}</div>
  </div>
  
  <input (blur)="someParameterChanged()" (keyup)="someParameterChanged()" id="nick" *ngIf="editingProfile" type="text" class="center-input user-nickname" [(ngModel)]="userNameEdit" type="text" placeholder="type username...">
  <div *ngIf="editingProfile && errorWithUsername!==''" class="error-div">{{ errorWithUsername }}</div>
  <input (change)="someParameterChanged()" (keyup)="someParameterChanged()" *ngIf="editingProfile" type="text" class="center-input user-email" [(ngModel)]="userEmailEdit" type="text" palceholder="type@email.com">
  <div *ngIf="editingProfile && errorWithEmail!==''" class="error-div">{{ errorWithEmail }}</div>

  <div class="user-stats">
    <table>
      <tr>
        <td>lent</td>
        <td>{{ lent }}</td>
        <td>borrowed</td>
        <td>{{ borrowed }}</td>
      </tr>
      <tr>
        <td>lendable stuff</td>
        <td>{{ lendableStuff }}</td>
        <td><ion-icon name="star"></ion-icon> rating</td>
        <td>{{ rating }}</td>
      </tr>
      <tr>
        <td><ion-icon name="thumbs-up"></ion-icon> feedback</td>
        <td>{{ feedbackPositive }} %</td>
        <td><ion-icon name="thumbs-down"></ion-icon> feedback</td>
        <td>{{ feedbackNegative }} %</td>
      </tr>
    </table>
  </div>

  <br *ngIf="editingProfile">
  <ion-button *ngIf="editingProfile" [disabled]="!formChecked" expand="block" size="large" color="success" (click)="saveChanges()">Save Changes</ion-button>
  <ion-button *ngIf="editingProfile" expand="block" color="white" (click)="dismissChanges()">Cancel</ion-button>

  <ion-button *ngIf="!editingProfile" expand="block" (click)="editProfile()">Edit Information</ion-button>
  <ion-button *ngIf="!editingProfile" expand="block" (click)="changePassword()">Change Password</ion-button>
  <ion-button *ngIf="!editingProfile" expand="block" (click)="chaneProfilePicture()">Change Profile Picture</ion-button>
  <ion-button *ngIf="!editingProfile" expand="block" (click)="changeMyDefaultLocation()">My Default Location</ion-button>

</ion-content>
